# General blocks
---
# Ensure that every visitor sees the welcome page first. 
mandatory: True
code: |
  welcome_complete
  disclamer_complete
---

# Welcome page
#
# the welcome page is before the intervew, as it is also the homepage
---
continue button field: welcome_complete
question: Welcome
subquestion: |
  This website will help you set up your association.
  
  To make sure that the association statutes fit your needs, we will ask you a series of questions. 
under: |
  Press continue to start the questionnaire. 
---  
# Initialize variables for interview
---
objects:
  - objectives: DAList
  - general_assembly: DAObject
  - committee: DAObject
  - auditors: DAObject
---
code: |
  objectives.there_are_any = True
---
# Statute generator
#
# This question will generate the statues and make them available
# as a downloadable PDF. It will ask all the questions necessary
# for the PDF to be created, in the order that the variables 
# appear in the document. 
---
mandatory: True
question: Here are the Articles of Incorporation
attachment:
  - name: Articles of Incorporation
    filename: ${ association_name } - Statutes
    content file: statutes.md
---

# Interview questions
---
question: Disclamer
continue button field: disclamer_complete
subquestion: |
  By pressing continue below, you acknowledge that you understand [conditions]
---
question: Name of the Association
fields:
  - Name: association_name
---
question: Is the ${ association_name } non-political?
yesno: is_nonpolitical
---
question: Is the ${ association_name } established for an unlimited time?
fields: 
  - Is the ${ association_name } established for an unlimited time?: is_unlimited_period
    datatype: yesnoradio
  - What is the end date for the association?: end_date
    datatype: date
    show if:
      variable: is_unlimited_period
      is: False
  - Where are the association headquarters: association_headquarters 
---
code: |
  if is_unlimited_period:
    length_of_time = "for an unlimited period"
  else:
    length_of_time = limited_period_of_time
---
template: limited_period_of_time
content: |
  from the adoption of the Articles of Incorporation until ${ end_date }
---
question: What is the ${ ordinal(i) } objective?
fields:
  - Objective: objectives[i]
---
question: Are there any more objectives?
yesno: objectives.there_is_another
---
question: What is the primary objective?
fields:
  - no label: primary_objective
    datatype: radio
    code: |
      objectives
---
question: test
yesno: general_assembly.composition
---
generic object: DAObject
question: How is ${ x } composed?
fields:
  - no label: x.composition
    default: ${ x.default_composition }
    datatype: area
---
code: |
  general_assembly.default_composition = "It is composed of the members of the Association."
  committee.default_composition = commcompdefault
---
template: commcompdefault
content: |
  "The Committee is composed of a minimum of ${ minimum_number } and a maximum of ${ maximum_number } natural persons elected by the General Assembly, including at least a President, a Secretary, and a Treasurer."
---
question: Committee Composition
fields:
  - What is the minimum number?: minimum_number
  - What is the maximum number?: maximum_number
---